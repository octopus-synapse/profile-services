// Resume Sections - Basic sections (Experience, Education, Skills, etc.)

model Experience {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  company     String
  position    String
  startDate   DateTime
  endDate     DateTime?
  isCurrent   Boolean   @default(false)
  location    String?
  description String?   @db.Text
  skills      String[]
  order       Int       @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([order])
  @@index([resumeId, order])
  @@index([isCurrent])
}

model Education {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  institution String
  degree      String
  field       String
  startDate   DateTime
  endDate     DateTime?
  isCurrent   Boolean   @default(false)
  location    String?
  description String?   @db.Text
  gpa         String?
  order       Int       @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([order])
  @@index([resumeId, order])
  @@index([isCurrent])
}

model Skill {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  name     String
  category String
  level    Int?
  order    Int    @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([category])
  @@index([resumeId, category])
  @@index([resumeId, order])
}

model Language {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  name      String
  level     String
  cefrLevel String?
  order     Int     @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([resumeId, order])
}

model Project {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  name         String
  description  String?   @db.Text
  url          String?
  startDate    DateTime?
  endDate      DateTime?
  isCurrent    Boolean   @default(false)
  technologies String[]
  order        Int       @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([resumeId, order])
  @@index([isCurrent])
}

model Certification {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  name          String
  issuer        String
  issueDate     DateTime
  expiryDate    DateTime?
  credentialId  String?
  credentialUrl String?
  order         Int       @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([resumeId, order])
}

model Award {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  title       String
  issuer      String
  date        DateTime
  description String?  @db.Text
  order       Int      @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([order])
}

model Recommendation {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  author   String
  position String?
  company  String?
  content  String    @db.Text
  date     DateTime?
  order    Int       @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([order])
}

model Interest {
  id       String @id @default(cuid())
  resumeId String
  resume   Resume @relation(fields: [resumeId], references: [id], onDelete: Cascade)

  name        String
  description String? @db.Text
  order       Int     @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([resumeId])
  @@index([order])
}
